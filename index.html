<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Operator Blueprints – CAC Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo-dot"></div>
      <div class="topbar-title-group">
        <h1>Operator Blueprints</h1>
        <p class="topbar-subtitle">CAC Calculator Tool</p>
      </div>
    </div>
    <div class="topbar-right">
      <span class="badge">Style A · Minimalist Operator Dashboard</span>
    </div>
  </header>

  <main class="layout">
    <!-- INPUTS PANEL -->
    <section class="panel panel-inputs">
      <h2>Assumptions</h2>
      <p class="panel-subtitle">
        Enter your new customers and acquisition spend to calculate CAC and sanity-check LTV:CAC.
      </p>

      <form
        id="cac-form"
        class="form-grid"
        onsubmit="event.preventDefault(); runCAC();"
      >
        <!-- Time context -->
        <div class="form-field">
          <label for="timeUnit">Time Unit</label>
          <select id="timeUnit" class="select-input">
            <option value="month" selected>Month</option>
            <option value="week">Week</option>
            <option value="year">Year</option>
          </select>
          <p class="field-hint">
            Choose the period this CAC calculation represents.
          </p>
        </div>

        <div class="form-field">
          <label for="periodLabel">Period Label</label>
          <input
            type="text"
            id="periodLabel"
            placeholder="e.g. October 2025"
          />
          <p class="field-hint">
            Optional label so you can reference this CAC later.
          </p>
        </div>

        <!-- Core drivers -->
        <div class="form-field">
          <label for="newCustomers">New Customers Acquired</label>
          <input
            type="number"
            id="newCustomers"
            min="0"
            step="1"
            value="250"
          />
          <p class="field-hint">
            Number of new customers acquired in this period (all channels).
          </p>
        </div>

        <div class="form-field">
          <label for="paidSpend">Paid Media Spend</label>
          <div class="input-prefix">
            <span class="prefix">$</span>
            <input
              type="number"
              id="paidSpend"
              min="0"
              step="1"
              value="12000"
            />
          </div>
          <p class="field-hint">
            Meta, Google, TikTok, affiliates and other directly attributable paid media.
          </p>
        </div>

        <div class="form-field">
          <label for="otherSpend">Other Acquisition Spend</label>
          <div class="input-prefix">
            <span class="prefix">$</span>
            <input
              type="number"
              id="otherSpend"
              min="0"
              step="1"
              value="8000"
            />
          </div>
          <p class="field-hint">
            Teams, agencies, tools and other acquisition-related overhead for this period.
          </p>
        </div>

        <!-- Optional LTV -->
        <div class="form-divider"></div>
        <h3 class="section-subheading">Optional · LTV & Payback</h3>

        <div class="form-field">
          <label for="ltvPerCustomer">LTV per Customer (Gross Margin)</label>
          <div class="input-prefix">
            <span class="prefix">$</span>
            <input
              type="number"
              id="ltvPerCustomer"
              min="0"
              step="1"
              placeholder="e.g. 450"
            />
          </div>
          <p class="field-hint">
            Use your LTV model’s gross-margin LTV per customer to compute LTV:CAC.
          </p>
        </div>

        <!-- Actions -->
        <div class="form-actions">
          <button
            type="button"
            class="btn-secondary"
            onclick="resetCACInputs()"
          >
            Reset Inputs
          </button>
          <button type="submit" class="btn-primary">
            Calculate CAC
          </button>
        </div>
      </form>

      <div class="assumption-note">
        <h3>How this CAC model works</h3>
        <p>
          Blended CAC uses total acquisition spend – including media and overhead – divided by new
          customers. Paid CAC looks only at media. Adding LTV per customer lets you see your
          LTV:CAC ratio and quickly judge whether your acquisition engine is healthy.
        </p>
      </div>
    </section>

    <!-- OUTPUT PANEL -->
    <section class="panel panel-output">
      <h2>CAC Output</h2>
      <p class="panel-subtitle">
        Blended and paid CAC, plus LTV:CAC and a simple operator summary.
      </p>

      <!-- KPI STRIP -->
      <div class="kpi-strip">
        <div class="kpi-card">
          <p class="kpi-label">Blended CAC</p>
          <p class="kpi-value" id="blendedCACValue">–</p>
          <p class="kpi-tag" id="blendedCACTag">
            Total acquisition spend ÷ new customers
          </p>
        </div>
        <div class="kpi-card">
          <p class="kpi-label">Paid CAC</p>
          <p class="kpi-value" id="paidCACValue">–</p>
          <p class="kpi-tag">
            Paid media spend ÷ new customers
          </p>
        </div>
        <div class="kpi-card">
          <p class="kpi-label">Total Acquisition Spend</p>
          <p class="kpi-value" id="totalSpendValue">–</p>
          <p class="kpi-tag" id="totalSpendTag">
            Paid + other acquisition costs
          </p>
        </div>
        <div class="kpi-card">
          <p class="kpi-label">LTV : CAC</p>
          <p class="kpi-value" id="ltvCACValue">–</p>
          <p class="kpi-tag" id="ltvCACTag">
            Add LTV per customer to see LTV:CAC.
          </p>
        </div>
      </div>

      <!-- OUTPUT ACTIONS -->
      <div class="output-actions">
        <button
          type="button"
          class="btn-secondary"
          onclick="downloadCACCsv()"
        >
          Download CSV
        </button>
      </div>

      <!-- TEXTUAL SUMMARY -->
      <div class="summary-card">
        <h3>Scenario Summary</h3>
        <ul id="summaryList" class="summary-list">
          <li>Enter new customers and acquisition spend, then calculate CAC.</li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="footer">
    <span>Operator Blueprints · CAC Calculator</span>
    <span>Speed is the moat · Precision is the standard</span>
  </footer>

  <script src="script.js"></script>
</body>
</html>
